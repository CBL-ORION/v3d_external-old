CMAKE_MINIMUM_REQUIRED(VERSION 2.4)
IF(COMMAND CMAKE_POLICY)
  CMAKE_POLICY(SET CMP0003 NEW)
ENDIF(COMMAND CMAKE_POLICY)

PROJECT(v3d_released_plugins)


FIND_PACKAGE(Qt4 REQUIRED)
INCLUDE( ${QT_USE_FILE} )

INCLUDE(CTest)

INCLUDE(CPack)


FIND_PATH(V3D_BINARY_DIR v3d)
SET(INSTALLATION_DIRECTORY ${V3D_BINARY_DIR}/plugins)

FIND_PATH(V3D_BASIC_C_FUN_SOURCE_DIR v3d_interface.h)
IF( V3D_BASIC_C_FUN_SOURCE_DIR )
  SET( V3D_BASIC_C_FUN_BINARY_DIR  ${PROJECT_BINARY_DIR}/Source/basic_c_fun )
ENDIF( V3D_BASIC_C_FUN_SOURCE_DIR )

IF(NOT LIBRARY_OUTPUT_PATH)
  SET (LIBRARY_OUTPUT_PATH
    ${ITK_V3D_Plugins_BINARY_DIR}/bin
    CACHE INTERNAL "Output directory for the shared libraries.")
ENDIF(NOT LIBRARY_OUTPUT_PATH)

INCLUDE(${PROJECT_SOURCE_DIR}/CMake/PluginConfiguration.cmake)

ADD_SUBDIRECTORY(v3d_plugins)
ADD_SUBDIRECTORY(special_v3d_plugins)

